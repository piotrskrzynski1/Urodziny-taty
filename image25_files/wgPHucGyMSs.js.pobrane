;/*FB_PKG_DELIM*/

__d("LSClearSingleCommunityMember",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return void 0!==void 0?c[0]=!1:c[0]=!0,b.i64.neq(void 0,void 0)?b.forEach(b.filter(b.db.table(170).fetch([[[a[0],a[1]]]]),function(d){return b.i64.eq(d.groupThreadId,void 0)&&b.i64.eq(d.communityId,a[0])&&b.i64.eq(d.contactId,a[1])&&(c[0]||d.requestId===void 0)}),function(a){return a["delete"]()}):b.forEach(b.filter(b.db.table(170).fetch([[[a[0],a[1]]]]),function(d){return b.i64.eq(d.communityId,a[0])&&b.i64.eq(d.contactId,a[1])&&(c[0]||d.requestId===void 0)}),function(a){return a["delete"]()})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxClearSingleCommunityMemberStoredProcedure";a.__tables__=["community_members"];e.exports=a}),null);
__d("LSOptimisticDeleteThread",["LSDeleteThread","LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSDeleteThread"),a[0],!1)},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[0]=d[6])})},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[6]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[7]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[6],d[7],void 0,void 0)}]):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),"delete_thread_v2",c.i64.cast([0,86]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticDeleteThreadStoredProcedure";a.__tables__=["threads","user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSOptimisticDeleteThreadStoredProcedure",["LSOptimisticDeleteThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e=c("LSOptimisticDeleteThread")(e.threadKey,a);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(e))}g["default"]=a}),98);
__d("MWAdminForBroadcastChannelUtils",["I64","MWPActor.react","ReQL","ReQLSuspense","qex","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(12),e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.participants||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.participants,["contactId","isAdmin"]).getKeyRange(a).filter(j)},b[0]=e.tables.participants,b[1]=a,b[2]=g):g=b[2];var h;b[3]!==e||b[4]!==a?(h=[e,a],b[3]=e,b[4]=a,b[5]=h):h=b[5];var k=d("ReQLSuspense").useFirst(g,h,f.id+":26");b[6]!==k||b[7]!==e.tables.contacts?(g=function(){return(k==null?void 0:k.contactId)!=null?d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(k.contactId):d("ReQL").empty()},b[6]=k,b[7]=e.tables.contacts,b[8]=g):g=b[8];h=k==null?void 0:k.contactId;var l;b[9]!==e||b[10]!==h?(l=[h,e],b[9]=e,b[10]=h,b[11]=l):l=b[11];return d("ReQLSuspense").useFirst(g,l,f.id+":34")}function j(a){a=a.isAdmin;return!!a}function k(a){var b=d("react-compiler-runtime").c(6),e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.participants||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.participants,["contactId","isAdmin"]).getKeyRange(a).filter(l)},b[0]=e.tables.participants,b[1]=a,b[2]=g):g=b[2];var h;b[3]!==e||b[4]!==a?(h=[e,a],b[3]=e,b[4]=a,b[5]=h):h=b[5];b=d("ReQLSuspense").useFirst(g,h,f.id+":48");return b==null?void 0:b.contactId}function l(a){a=a.isAdmin;return!!a}function b(a){var b=d("react-compiler-runtime").c(2),e=k(a),f=d("MWPActor.react").useActor();if((h||(h=d("I64"))).equal(a,(h||(h=d("I64"))).zero))return!1;a=e?(h||(h=d("I64"))).equal(e,f):!1;if(a){if(b[0]===Symbol["for"]("react.memo_cache_sentinel")){f=(e=c("qex")._("2113"))!=null?e:!1;b[0]=f}else f=b[0];return f}else{if(b[1]===Symbol["for"]("react.memo_cache_sentinel")){e=(a=c("qex")._("2114"))!=null?a:!1;b[1]=e}else e=b[1];return e}}g.useFetchBroadcastChannelCreator=a;g.useFetchBroadcastChannelCreatorId=k;g.useCanUserShareChannelToStory=b}),98);
__d("MWEmoji.react",["CometEmoji.react","EmojiRenderer","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.emoji,e=a.size;a=a.testid;return i.jsx(c("CometEmoji.react"),{emoji:j(function(){var a=d("EmojiRenderer").parse(b);a=a[0];return a!=null?a.emoji:[b]},[b]),size:e,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWQuickPromotionBroadcastChannelNUXesQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="27400177599627508"}),null);
__d("MWQuickPromotionBroadcastChannelNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8112477978830362"}),null);
__d("MWXFacepilePhoto.react",["cr:5281","cr:5395","cr:5894","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(21),e,f,g,h;c[0]!==a?(f=a.badge,g=a.items,h=a.size,e=babelHelpers.objectWithoutPropertiesLoose(a,["badge","items","size"]),c[0]=a,c[1]=e,c[2]=f,c[3]=g,c[4]=h):(e=c[1],f=c[2],g=c[3],h=c[4]);if(b("cr:5894")!=null&&b("cr:5281")!=null){c[5]!==f||c[6]!==h?(a=f==="availabilityBadge"?i.jsx(b("cr:5281"),{size:h<48?12:16,state:"active"}):null,c[5]=f,c[6]=h,c[7]=a):a=c[7];var k=h===28?32:h===48?56:h,l;c[8]!==g?(l=g.map(j),c[8]=g,c[9]=l):l=c[9];var m;c[10]!==e||c[11]!==g.length||c[12]!==a||c[13]!==k||c[14]!==l?(m=i.jsx(b("cr:5894"),babelHelpers["extends"]({badge:a,size:k,sources:l,totalItems:g.length},e)),c[10]=e,c[11]=g.length,c[12]=a,c[13]=k,c[14]=l,c[15]=m):m=c[15];return m}if(b("cr:5395")!=null){c[16]!==e||c[17]!==f||c[18]!==g||c[19]!==h?(a=i.jsx(b("cr:5395"),babelHelpers["extends"]({badge:f,items:g,size:h},e)),c[16]=e,c[17]=f,c[18]=g,c[19]=h,c[20]=a):a=c[20];return a}return null}function j(a){var b=a.alt;a=a.uri;return{alt:b,source:a}}g["default"]=a}),98);
__d("MWXTabs.react",["cr:4220","cr:4354","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(4);if(b("cr:4220")!=null){var e;c[0]!==a?(e=i.jsx(b("cr:4220"),babelHelpers["extends"]({},a)),c[0]=a,c[1]=e):e=c[1];return e}if(b("cr:4354")!=null){c[2]!==a?(e=i.jsx(b("cr:4354"),babelHelpers["extends"]({},a)),c[2]=a,c[3]=e):e=c[3];return e}return null}g["default"]=a}),98);
__d("MessageRequestsBulkActionsButtons.react",["fbt","FDSButtonGroup.react","FocusRegion.react","I64","LSFactory","LSOptimisticDeleteThreadStoredProcedure","LSOptimisticMarkThreadReadV2StoredProcedure","MessageRequestsBulkActionsContext.react","MessageRequestsLog","ServerTime","emptyFunction","focusScopeQueries","promiseDone","react","react-compiler-runtime","react-forget-runtime","stylex","useMWXConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=k||(k=d("react"));b=k;b.useCallback;b.useContext;var n={bulkActionsButtons:{paddingBottom:"xsag5q8",$$css:!0},bulkActionsButtonsHidden:{display:"x1s85apg",$$css:!0}};function o(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=function(b){b.forEach(function(b){var e=(l||(l=d("I64"))).of_string(b);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(a),{readWatermarkTimestampMs:(l||(l=d("I64"))).of_float(d("ServerTime").getMillis()),threadKey:e})},"readwrite",void 0,void 0,f.id+":52"))})},b[0]=a,b[1]=e):e=b[1];return e}function p(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=function(b){b.forEach(function(b){var e=(l||(l=d("I64"))).of_string(b);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticDeleteThreadStoredProcedure")(c("LSFactory")(a),{threadKey:e})},"readwrite",void 0,void 0,f.id+":73"))})},b[0]=a,b[1]=e):e=b[1];return e}function a(a){var b=d("react-compiler-runtime").c(32);a=a.entryPoint;var e=a===void 0?"messageRequests":a;a=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("MessageRequestsBulkActionsContext.react"),q);var f=a.bulkActionsSelectedThreads,g=a.bulkActionsUnreadSelectedThreads,k=a.isBulkActionsEditMode,l=a.setIsBulkActionsEditMode;a=(i||(i=c("useReStore")))();var r=o(a),s=p(a),t=c("useMWXConfirmationDialog")();b[0]!==f||b[1]!==g.size||b[2]!==e||b[3]!==r||b[4]!==l?(a=function(){r(f);l(!1);return d("MessageRequestsLog").logMessageRequestsBulkActionTapped(0,f.size,g.size,5,e==="spam"?-3:-1)},b[0]=f,b[1]=g.size,b[2]=e,b[3]=r,b[4]=l,b[5]=a):a=b[5];a=a;var u;b[6]!==f||b[7]!==g.size||b[8]!==s||b[9]!==e||b[10]!==l||b[11]!==t?(u=function(){d("MessageRequestsLog").logMessageRequestsBulkActionTapped(0,f.size,g.size,4,e==="spam"?-3:-1);return t({body:f.size===1?h._("__JHASH__MLd3xbTafSI__JHASH__"):h._("__JHASH__sZbvz5cEYff__JHASH__"),confirm:h._("__JHASH__pKnL1Kcyxnh__JHASH__"),title:f.size===1?h._("__JHASH__zdCU4WfWx_J__JHASH__"):h._("__JHASH__6Kbu-lnpMhp__JHASH__",[h._param("Number of selected threads",String(f.size))])},function(){s(f);l(!1);d("FocusRegion.react").focusRegionById("mwb-jewel-bulk-actions-edit-button",d("focusScopeQueries").tabbableScopeQuery);return d("MessageRequestsLog").logMessageRequestsBulkActionConfirmed(0,f.size,g.size,4,e==="spam"?-3:-1)},c("emptyFunction"))},b[6]=f,b[7]=g.size,b[8]=s,b[9]=e,b[10]=l,b[11]=t,b[12]=u):u=b[12];u=u;k=k?n.bulkActionsButtons:n.bulkActionsButtonsHidden;var v;b[13]!==k?(v=(j||(j=c("stylex")))(k),b[13]=k,b[14]=v):v=b[14];k=e==="spam"?"spam-bulk-actions-buttons":"message-requests-bulk-actions-buttons";var w=f.size===0||g.size===0,x;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(x=h._("__JHASH__pC0i0CAW1ov__JHASH__").toString(),b[15]=x):x=b[15];var y=e==="spam"?"spam-bulk-mark-as-read-button":"message-requests-bulk-mark-as-read-button";b[16]!==a||b[17]!==w||b[18]!==y?(x={disabled:w,label:x,onPress:a,testid:y,type:"secondary"},b[16]=a,b[17]=w,b[18]=y,b[19]=x):x=b[19];a=f.size===0;b[20]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._("__JHASH__pKnL1Kcyxnh__JHASH__"),b[20]=w):w=b[20];y=e==="spam"?"spam-bulk-delete-button":"message-requests-bulk-delete-button";b[21]!==u||b[22]!==a||b[23]!==y?(w={disabled:a,label:w,onPress:u,testid:y},b[21]=u,b[22]=a,b[23]=y,b[24]=w):w=b[24];b[25]!==x||b[26]!==w?(u=m.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,children:m.jsx(c("FDSButtonGroup.react"),{align:"justify",direction:"forward",primary:x,secondary:w})}),b[25]=x,b[26]=w,b[27]=u):u=b[27];b[28]!==u||b[29]!==v||b[30]!==k?(a=m.jsx("div",{className:v,id:k,children:u}),b[28]=u,b[29]=v,b[30]=k,b[31]=a):a=b[31];return a}function q(a){return[a.bulkActionsSelectedThreads,a.bulkActionsUnreadSelectedThreads,a.isBulkActionsEditMode,a.setIsBulkActionsEditMode]}g["default"]=a}),226);
__d("useIsMessengerPWA",["ExecutionEnvironment","isMessengerPWA","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useState;function a(){var a=d("react-compiler-runtime").c(2),b=k(c("isMessengerPWA")),e=b[0],f=b[1],g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM||!matchMedia)return;var a=matchMedia("(display-mode: standalone)"),b=function(a){f(a.matches)};a.addListener(b);return function(){a.removeListener(b)}},g=[],a[0]=b,a[1]=g):(b=a[0],g=a[1]);j(b,g);return e}g["default"]=a}),98);