;/*FB_PKG_DELIM*/

__d("MWV2ProfileWithReaction.react",["fbt","CurrentEnvironment","I64","LSContactBitOffset","MAWPSendOrRemoveReaction.react","MDSListCellPressable.react","MWPActor.react","MWXProfilePhoto.react","MWXText.react","MWXTextPairing.react","ReQL","ReQLSuspense","XCometVanityURLControllerRouteBuilder","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react");function a(a){var b=d("react-compiler-runtime").c(44),e=a.actorId,g=a.actualName,j=a.addOnIcon,m=a.isBroadcastThread,n=a.isOneToOne,o=a.isSecure,p=a.message,q=a.onClose,r=a.profilePictureUrl,s=a.reaction,t=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(p,o,"message_reactions_details_tray");a=(k||(k=d("I64"))).to_string(d("MWPActor.react").useActor());var u=(i||(i=c("useReStore")))();b[0]!==e?(o=(k||(k=d("I64"))).of_string(e),b[0]=e,b[1]=o):o=b[1];var v=o;b[2]!==u.tables.contacts||b[3]!==p.threadKey?(o=function(){return d("ReQL").fromTableAscending(u.tables.contacts).getKeyRange(p.threadKey)},b[2]=u.tables.contacts,b[3]=p.threadKey,b[4]=o):o=b[4];var w;b[5]!==u||b[6]!==p.threadKey?(w=[u,p.threadKey],b[5]=u,b[6]=p.threadKey,b[7]=w):w=b[7];o=d("ReQLSuspense").useFirst(o,w,f.id+":54");w=n&&o!=null?d("LSContactBitOffset").has(66,o):!1;n=n&&o!=null?d("LSContactBitOffset").has(28,o)||d("LSContactBitOffset").has(29,o):!1;o=a===e&&!w&&!n;b[8]!==v||b[9]!==u.tables.contextual_profile_v1||b[10]!==u.tables.threads||b[11]!==p.threadKey?(a=function(){return d("ReQL").fromTableAscending(u.tables.threads).getKeyRange(p.threadKey).map(function(a){a=a.parentThreadKey;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(u.tables.contextual_profile_v1).getKeyRange(v,a),f.id+":82");return a==null?void 0:a.profileName})},b[8]=v,b[9]=u.tables.contextual_profile_v1,b[10]=u.tables.threads,b[11]=p.threadKey,b[12]=a):a=b[12];b[13]!==v||b[14]!==u||b[15]!==p.threadKey?(w=[v,u,p.threadKey],b[13]=v,b[14]=u,b[15]=p.threadKey,b[16]=w):w=b[16];n=d("ReQLSuspense").useFirst(a,w,f.id+":77");b[17]!==o?(a=o?h._("__JHASH__KuMUeq_mbxk__JHASH__"):h._("__JHASH__HD7n-pkwvwl__JHASH__"),b[17]=o,b[18]=a):a=b[18];w=a;b[19]!==m||b[20]!==o||b[21]!==p.messageId||b[22]!==q||b[23]!==s||b[24]!==t?(a=o?function(){return t(p.messageId,m?s:void 0,"remove_reaction")}:c("CurrentEnvironment").facebookdotcom?q:void 0,b[19]=m,b[20]=o,b[21]=p.messageId,b[22]=q,b[23]=s,b[24]=t,b[25]=a):a=b[25];q=a;a=c("CurrentEnvironment").facebookdotcom?void 0:"_blank";var x=(c("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+c("XCometVanityURLControllerRouteBuilder").buildUri({vanity:e}).toString(),y;b[26]!==r?(y=l.jsx(c("MWXProfilePhoto.react"),{shape:"circle",size:40,source:{uri:r}}),b[26]=r,b[27]=y):y=b[27];n=(r=n)!=null?r:g;b[28]!==n?(r=l.jsx(c("MWXText.react"),{numberOfLines:1,type:"headline4",children:n}),b[28]=n,b[29]=r):r=b[29];b[30]!==w||b[31]!==r?(g=l.jsx(c("MWXTextPairing.react"),{headline:r,level:4,meta:w}),b[30]=w,b[31]=r,b[32]=g):g=b[32];b[33]!==o||b[34]!==x?(n=o?void 0:{target:a,url:x},b[33]=o,b[34]=x,b[35]=n):n=b[35];w="messenger_reaction_actor_"+e;b[36]!==e||b[37]!==j||b[38]!==q||b[39]!==g||b[40]!==n||b[41]!==w||b[42]!==y?(r=l.jsx(c("MDSListCellPressable.react"),{addOnEnd:j,addOnStart:y,content:g,linkProps:n,onPress:q,size:"medium",testid:void 0},e),b[36]=e,b[37]=j,b[38]=q,b[39]=g,b[40]=n,b[41]=w,b[42]=y,b[43]=r):r=b[43];return r}g["default"]=a}),226);
__d("useReactionsAndContactsGroupedByTypeLS",["MWChatReactionsUtils","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("react-compiler-runtime").c(11),g=(h||(h=c("useReStore")))(),k;e[0]!==g.tables.contacts||e[1]!==g.tables.reactions||e[2]!==a||e[3]!==b?(k=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(g.tables.reactions).getKeyRange(b,a),d("ReQL").fromTableAscending(g.tables.contacts)).map(j)},e[0]=g.tables.contacts,e[1]=g.tables.reactions,e[2]=a,e[3]=b,e[4]=k):k=e[4];var l;e[5]!==g||e[6]!==a||e[7]!==b?(l=[b,a,g],e[5]=g,e[6]=a,e[7]=b,e[8]=l):l=e[8];k=d("ReQLSuspense").useArray(k,l,f.id+":31");e[9]!==k?(l=k.reduce(i,{}),e[9]=k,e[10]=l):l=e[10];return l}function i(a,b){var c=b[0];b=b[1];b=[[c,b]];var d=a[c.reaction];d=d!=null?d.concat(b):b;a[c.reaction]=d;return a}function j(a){var b=a[0];a=a[1];var c={actorId:b.actorId,authorityLevel:b.authorityLevel,messageId:b.messageId,reaction:d("MWChatReactionsUtils").heartType1,threadKey:b.threadKey,timestampMs:b.timestampMs};return[d("MWChatReactionsUtils").isHeart(b.reaction)?c:b,a]}g["default"]=a}),98);
__d("MWV2ChatReactionsDialog.react",["fbt","EmojiRenderer","I64","LSMessagingThreadTypeUtil","MWChatReactionEmoji","MWLSThread","MWV2ProfileWithReaction.react","MWXColumn.react","MWXColumnItem.react","MWXDialog.react","MWXDialogHeader.react","MWXTabs.react","cr:3444","getLSMediaContactProfilePictureUrl","qex","react","react-compiler-runtime","useIsSecureMessage","useMAWSeparateReadsSelector","useReStore","useReactionsAndContactsGroupedByTypeLS"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j.useState;function n(a){var b=d("react-compiler-runtime").c(17),e=a.actors,f=a.addOnIcon,g=a.isOneToOne,h=a.isSecure,i=a.message,j=a.onClose,m=a.reaction,n=a.unkownUserName;if(b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==i||b[5]!==j||b[6]!==m||b[7]!==n){b[9]!==f||b[10]!==g||b[11]!==h||b[12]!==i||b[13]!==j||b[14]!==m||b[15]!==n?(a=function(a){var b=a[0];a=a[1];b=(k||(k=d("I64"))).to_string(b.actorId);a=a!=null?[a.name,c("getLSMediaContactProfilePictureUrl")(a)]:[n.toString(),"/images/chat/webrtc/no_profile_pic.png"];var e=a[0];a=a[1];return l.jsx(c("MWV2ProfileWithReaction.react"),{actorId:b,actualName:e,addOnIcon:f,isBroadcastThread:!1,isOneToOne:g,isSecure:h,message:i,onClose:j,profilePictureUrl:a,reaction:m},b)},b[9]=f,b[10]=g,b[11]=h,b[12]=i,b[13]=j,b[14]=m,b[15]=n,b[16]=a):a=b[16];a=e.map(a);b[0]=e;b[1]=f;b[2]=g;b[3]=h;b[4]=i;b[5]=j;b[6]=m;b[7]=n;b[8]=a}else a=b[8];return a}function o(a,b){var e=d("EmojiRenderer").parse(b).map(function(a){return a.emoji});if(e.length!==1)return l.jsx("span",{children:b});b=e[0];return l.jsx(c("MWChatReactionEmoji"),{emoji:b,size:a})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=d("react-compiler-runtime").c(24),c=a.isOneToOne,e=a.isSecure,f=a.message,g=a.onClose,h=a.reactions,i=a.selectorValue,j=a.unkownUserName;if(i.type==="all"){if(b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==h||b[5]!==j){b[7]!==c||b[8]!==e||b[9]!==f||b[10]!==g||b[11]!==j?(a=function(a){var b=a[0];a=a[1];return l.jsx(n,{actors:a,addOnIcon:o(28,b),isOneToOne:c,isSecure:e,message:f,onClose:g,reaction:b,unkownUserName:j},b)},b[7]=c,b[8]=e,b[9]=f,b[10]=g,b[11]=j,b[12]=a):a=b[12];a=Object.entries(h).map(a);b[0]=c;b[1]=e;b[2]=f;b[3]=g;b[4]=h;b[5]=j;b[6]=a}else a=b[6];return a}a=i.currentReaction;b[13]!==a?(i=o(28,a),b[13]=a,b[14]=i):i=b[14];i=i;h=h[a];if(h!=null){var k;b[15]!==h||b[16]!==i||b[17]!==c||b[18]!==e||b[19]!==f||b[20]!==g||b[21]!==a||b[22]!==j?(k=l.jsx(n,{actors:h,addOnIcon:i,isOneToOne:c,isSecure:e,message:f,onClose:g,reaction:a,unkownUserName:j}),b[15]=h,b[16]=i,b[17]=c,b[18]=e,b[19]=f,b[20]=g,b[21]=a,b[22]=j,b[23]=k):k=b[23];return k}return null}var q={content:{minHeight:"xz65tgg",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(41),f=a.message,g=a.onClose;a=a.thread;var j;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(j={type:"all"},e[0]=j):j=e[0];j=m(j);var k=j[0],n=j[1];j=a.threadKey;a=f.messageId;var v=d("MWLSThread").useThreadExn(j,u),w=d("MWLSThread").useThreadExn(j,t),x;e[1]!==v?(x=d("LSMessagingThreadTypeUtil").isOneToOne(v),e[1]=v,e[2]=x):x=e[2];x=x;var y;e[3]!==w?(y=d("LSMessagingThreadTypeUtil").isWorkThread(w),e[3]=w,e[4]=y):y=e[4];w=y;e[5]!==w?(y=w?h._("__JHASH__WW0S3bu0Fvp__JHASH__"):h._("__JHASH__AaE4hJExM0x__JHASH__"),e[5]=w,e[6]=y):y=e[6];w=y;y=(i||(i=c("useReStore")))();var z;e[7]!==v?(z=d("LSMessagingThreadTypeUtil").isArmadilloSecure(v),e[7]=v,e[8]=z):z=e[8];e[9]!==z?(v={fallbackIsSecure:z},e[9]=z,e[10]=v):v=e[10];z=c("useIsSecureMessage")(y,f,v);y=c("useReactionsAndContactsGroupedByTypeLS")(a,j);v=b("cr:3444")(f,z);if(e[11]!==z){j=z&&((a=c("qex")._("99"))!=null?a:!1);e[11]=z;e[12]=j}else j=e[12];a=d("useMAWSeparateReadsSelector").useMAWSeparateReadsSelector("GroupedReactions",v,y,j);e[13]!==a?(v=Object.values(a).reduce(s,0),e[13]=a,e[14]=v):v=e[14];y=v;var A;if(e[15]!==y||e[16]!==a||e[17]!==k.currentReaction||e[18]!==k.type){e[20]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(){return n({type:"all"})},e[20]=j):j=e[20];A=[{label:h._("__JHASH__o_GpFVY02Fi__JHASH__",[h._param("total reactions",String(y))]),onPress:j,selected:k.type==="all"}];Object.entries(a).sort(r).forEach(function(a){var b=a[0];a=a[1];a=l.jsxs("div",{children:[o(20,b),l.jsx("span",{className:"x1t2a60a",children:a.length})]});A.push({label:a,onPress:function(a){return n({currentReaction:b,type:"reaction"})},selected:k.currentReaction===b&&k.type==="reaction"})});e[15]=y;e[16]=a;e[17]=k.currentReaction;e[18]=k.type;e[19]=A}else A=e[19];e[21]===Symbol["for"]("react.memo_cache_sentinel")?(v=h._("__JHASH__Jx02tgrOGW9__JHASH__"),e[21]=v):v=e[21];e[22]!==g?(j=l.jsx(c("MWXDialogHeader.react"),{onClose:g,title:v,withCloseButton:!0}),e[22]=g,e[23]=j):j=e[23];e[24]!==A?(y=l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXTabs.react"),{tabs:A})}),e[24]=A,e[25]=y):y=e[25];e[26]!==a||e[27]!==x||e[28]!==z||e[29]!==f||e[30]!==g||e[31]!==k||e[32]!==w?(v=l.jsx(c("MWXColumnItem.react"),{children:l.jsx(p,{isOneToOne:x,isSecure:z,message:f,onClose:g,reactions:a,selectorValue:k,unkownUserName:w})}),e[26]=a,e[27]=x,e[28]=z,e[29]=f,e[30]=g,e[31]=k,e[32]=w,e[33]=v):v=e[33];e[34]!==y||e[35]!==v?(a=l.jsxs(c("MWXColumn.react"),{spacing:12,xstyle:q.content,children:[y,v]}),e[34]=y,e[35]=v,e[36]=a):a=e[36];e[37]!==g||e[38]!==j||e[39]!==a?(x=l.jsx(c("MWXDialog.react"),{footer:null,header:j,onClose:g,children:a}),e[37]=g,e[38]=j,e[39]=a,e[40]=x):x=e[40];return x}function r(a,b){a=a[1];b=b[1];a=a.length;b=b.length;return b-a}function s(a,b){return a+b.length}function t(a){return a.threadSubtype}function u(a){return a.threadType}g["default"]=a}),226);
__d("useReactionsAndContactsGroupedByTypeMAWNoop",["react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=d("react-compiler-runtime").c(1);a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];return b}g["default"]=a}),98);